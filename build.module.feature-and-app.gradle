apply plugin: 'kotlin-android'
apply plugin: 'org.jlleitschuh.gradle.ktlint'

apply from: "$rootDir/build.config.jvm.gradle"
apply from: "$rootDir/build.dep.di.gradle"
apply from: "$rootDir/build.dep.compose.gradle"

android {

    compileSdk = rootProject.ext.compileSdkVersion

    defaultConfig {

        targetSdk = rootProject.ext.targetSdkVersion
        minSdk = rootProject.ext.minSdkVersion

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
        vectorDrawables {
            useSupportLibrary = true
        }
    }

    buildFeatures {
        compose = true
    }
    composeOptions {
        kotlinCompilerExtensionVersion = libs.versions.kotlinCompilerComposeExtensionVersion.get()
    }
    packaging {
        resources {
            excludes += "/META-INF/{AL2.0,LGPL2.1}"
        }
    }
}

dependencies {
    implementation(libs.napier)
    implementation(libs.activityCompose)
    implementation(libs.hiltNavigationCompose)

    ktlintRuleset(libs.ktlint.ruleset)

    testImplementation libs.junit
    testImplementation libs.kotlinx.coroutines.test
    testImplementation libs.turbine
    testImplementation libs.mockk.android
    testImplementation libs.mockk.agent
}

ktlint {
    android.set(true)
    outputColorName.set("RED")
}